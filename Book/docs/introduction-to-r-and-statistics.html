<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Introduction to R and Statistics | Lock5 With R</title>
  <meta name="description" content="Code, exercises and discussion to accompany a course taught from ‘Statistics: Unlocking the Power of Data’" />
  <meta name="generator" content="bookdown 0.11 and GitBook 2.6.7" />

  <meta property="og:title" content="Introduction to R and Statistics | Lock5 With R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Code, exercises and discussion to accompany a course taught from ‘Statistics: Unlocking the Power of Data’" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Introduction to R and Statistics | Lock5 With R" />
  
  <meta name="twitter:description" content="Code, exercises and discussion to accompany a course taught from ‘Statistics: Unlocking the Power of Data’" />
  

<meta name="author" content="R Pruim" />


<meta name="date" content="2019-06-07" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html">
<link rel="next" href="collecting-data.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Lock5 With R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Lock 5 With R</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r-and-statistics.html"><a href="introduction-to-r-and-statistics.html"><i class="fa fa-check"></i>Introduction to R and Statistics</a><ul>
<li class="chapter" data-level="0.1" data-path="introduction-to-r-and-statistics.html"><a href="introduction-to-r-and-statistics.html#getting-started-with-rstudio"><i class="fa fa-check"></i><b>0.1</b> Getting Started With RStudio</a><ul>
<li class="chapter" data-level="" data-path="introduction-to-r-and-statistics.html"><a href="introduction-to-r-and-statistics.html#rstudio"><i class="fa fa-check"></i>RStudio</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r-and-statistics.html"><a href="introduction-to-r-and-statistics.html#loading-packages"><i class="fa fa-check"></i>Loading packages</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r-and-statistics.html"><a href="introduction-to-r-and-statistics.html#using-r-as-a-calculator"><i class="fa fa-check"></i>Using R as a calculator</a></li>
</ul></li>
<li class="chapter" data-level="0.2" data-path="introduction-to-r-and-statistics.html"><a href="introduction-to-r-and-statistics.html#getting-help-in-rstudio"><i class="fa fa-check"></i><b>0.2</b> Getting Help in RStudio</a><ul>
<li class="chapter" data-level="" data-path="introduction-to-r-and-statistics.html"><a href="introduction-to-r-and-statistics.html#the-rstudio-help-system"><i class="fa fa-check"></i>The RStudio help system</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r-and-statistics.html"><a href="introduction-to-r-and-statistics.html#history"><i class="fa fa-check"></i>History</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r-and-statistics.html"><a href="introduction-to-r-and-statistics.html#error-messages"><i class="fa fa-check"></i>Error messages</a></li>
</ul></li>
<li class="chapter" data-level="0.3" data-path="introduction-to-r-and-statistics.html"><a href="introduction-to-r-and-statistics.html#four-things-to-know-about-r"><i class="fa fa-check"></i><b>0.3</b> Four Things to Know About R</a></li>
<li class="chapter" data-level="0.4" data-path="introduction-to-r-and-statistics.html"><a href="introduction-to-r-and-statistics.html#data-in-r"><i class="fa fa-check"></i><b>0.4</b> Data in R</a><ul>
<li class="chapter" data-level="" data-path="introduction-to-r-and-statistics.html"><a href="introduction-to-r-and-statistics.html#data-in-packages"><i class="fa fa-check"></i>Data in Packages</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r-and-statistics.html"><a href="introduction-to-r-and-statistics.html#the-helprct-data-set"><i class="fa fa-check"></i>The HELPrct data set</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r-and-statistics.html"><a href="introduction-to-r-and-statistics.html#using-your-own-data"><i class="fa fa-check"></i>Using your own data</a></li>
</ul></li>
<li class="chapter" data-level="0.5" data-path="introduction-to-r-and-statistics.html"><a href="introduction-to-r-and-statistics.html#the-most-important-template"><i class="fa fa-check"></i><b>0.5</b> The Most Important Template</a></li>
<li class="chapter" data-level="0.6" data-path="introduction-to-r-and-statistics.html"><a href="introduction-to-r-and-statistics.html#manipulating-your-data"><i class="fa fa-check"></i><b>0.6</b> Manipulating your data</a><ul>
<li class="chapter" data-level="" data-path="introduction-to-r-and-statistics.html"><a href="introduction-to-r-and-statistics.html#creating-a-subset"><i class="fa fa-check"></i>Creating a subset</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r-and-statistics.html"><a href="introduction-to-r-and-statistics.html#choosing-specific-columns"><i class="fa fa-check"></i>Choosing specific columns</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r-and-statistics.html"><a href="introduction-to-r-and-statistics.html#dropping-variables"><i class="fa fa-check"></i>Dropping Variables</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r-and-statistics.html"><a href="introduction-to-r-and-statistics.html#creating-new-variables"><i class="fa fa-check"></i>Creating new variables</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r-and-statistics.html"><a href="introduction-to-r-and-statistics.html#saving-data"><i class="fa fa-check"></i>Saving Data</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r-and-statistics.html"><a href="introduction-to-r-and-statistics.html#merging-datasets"><i class="fa fa-check"></i>Merging datasets</a></li>
</ul></li>
<li class="chapter" data-level="0.7" data-path="introduction-to-r-and-statistics.html"><a href="introduction-to-r-and-statistics.html#using-r-markdown"><i class="fa fa-check"></i><b>0.7</b> Using R Markdown</a><ul>
<li class="chapter" data-level="" data-path="introduction-to-r-and-statistics.html"><a href="introduction-to-r-and-statistics.html#r-markdown-files-must-be-self-contained"><i class="fa fa-check"></i>R Markdown files must be self-contained</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r-and-statistics.html"><a href="introduction-to-r-and-statistics.html#output-formats"><i class="fa fa-check"></i>Output formats</a></li>
</ul></li>
<li class="chapter" data-level="0.8" data-path="introduction-to-r-and-statistics.html"><a href="introduction-to-r-and-statistics.html#statistics-answering-questions-with-data"><i class="fa fa-check"></i><b>0.8</b> Statistics: Answering Questions With Data</a><ul>
<li class="chapter" data-level="" data-path="introduction-to-r-and-statistics.html"><a href="introduction-to-r-and-statistics.html#data-the-raw-material"><i class="fa fa-check"></i>Data – the raw material</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r-and-statistics.html"><a href="introduction-to-r-and-statistics.html#information-the-goal"><i class="fa fa-check"></i>Information – the goal</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r-and-statistics.html"><a href="introduction-to-r-and-statistics.html#uncertainty-the-context"><i class="fa fa-check"></i>Uncertainty – the context</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r-and-statistics.html"><a href="introduction-to-r-and-statistics.html#probability-the-tool"><i class="fa fa-check"></i>Probability – the tool</a></li>
</ul></li>
<li class="chapter" data-level="0.9" data-path="introduction-to-r-and-statistics.html"><a href="introduction-to-r-and-statistics.html#a-first-example-the-lady-tasting-tea"><i class="fa fa-check"></i><b>0.9</b> A First Example: The Lady Tasting Tea</a></li>
<li class="chapter" data-level="0.10" data-path="introduction-to-r-and-statistics.html"><a href="introduction-to-r-and-statistics.html#coins-and-cups"><i class="fa fa-check"></i><b>0.10</b> Coins and Cups</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="collecting-data.html"><a href="collecting-data.html"><i class="fa fa-check"></i><b>1</b> Collecting Data</a><ul>
<li class="chapter" data-level="1.1" data-path="collecting-data.html"><a href="collecting-data.html#the-structure-of-data"><i class="fa fa-check"></i><b>1.1</b> The Structure of Data</a><ul>
<li class="chapter" data-level="" data-path="collecting-data.html"><a href="collecting-data.html#cases-and-variables"><i class="fa fa-check"></i>Cases and Variables</a></li>
<li class="chapter" data-level="" data-path="collecting-data.html"><a href="collecting-data.html#categorical-and-quantitative-variables"><i class="fa fa-check"></i>Categorical and Quantitative Variables</a></li>
<li class="chapter" data-level="" data-path="collecting-data.html"><a href="collecting-data.html#investigating-variables-and-relationships-between-variables"><i class="fa fa-check"></i>Investigating Variables and Relationships between Variables</a></li>
<li class="chapter" data-level="" data-path="collecting-data.html"><a href="collecting-data.html#using-data-to-answer-a-question"><i class="fa fa-check"></i>Using Data to Answer a Question</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="collecting-data.html"><a href="collecting-data.html#sampling-from-a-population"><i class="fa fa-check"></i><b>1.2</b> Sampling from a Population</a><ul>
<li class="chapter" data-level="" data-path="collecting-data.html"><a href="collecting-data.html#samples-from-populations"><i class="fa fa-check"></i>Samples from Populations</a></li>
<li class="chapter" data-level="" data-path="collecting-data.html"><a href="collecting-data.html#sampling-bias"><i class="fa fa-check"></i>Sampling Bias</a></li>
<li class="chapter" data-level="" data-path="collecting-data.html"><a href="collecting-data.html#simple-random-sample"><i class="fa fa-check"></i>Simple Random Sample</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="collecting-data.html"><a href="collecting-data.html#experiments-and-observational-studies"><i class="fa fa-check"></i><b>1.3</b> Experiments and Observational Studies</a><ul>
<li class="chapter" data-level="" data-path="collecting-data.html"><a href="collecting-data.html#confounding-variables"><i class="fa fa-check"></i>Confounding Variables</a></li>
<li class="chapter" data-level="" data-path="collecting-data.html"><a href="collecting-data.html#observational-studies-vs.-experiments"><i class="fa fa-check"></i>Observational Studies vs. Experiments</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="describing-data.html"><a href="describing-data.html"><i class="fa fa-check"></i><b>2</b> Describing Data</a><ul>
<li class="chapter" data-level="2.1" data-path="describing-data.html"><a href="describing-data.html#categorical-variables"><i class="fa fa-check"></i><b>2.1</b> Categorical Variables</a><ul>
<li class="chapter" data-level="" data-path="describing-data.html"><a href="describing-data.html#one-categorical-variable"><i class="fa fa-check"></i>One Categorical Variable</a></li>
<li class="chapter" data-level="" data-path="describing-data.html"><a href="describing-data.html#two-categorical-variables-two-way-tables"><i class="fa fa-check"></i>Two Categorical Variables: Two-Way Tables</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="describing-data.html"><a href="describing-data.html#one-quantitative-variable-shape-and-center"><i class="fa fa-check"></i><b>2.2</b> One Quantitative Variable: Shape and Center</a><ul>
<li class="chapter" data-level="" data-path="describing-data.html"><a href="describing-data.html#the-shape-of-a-distribution"><i class="fa fa-check"></i>The Shape of a Distribution</a></li>
<li class="chapter" data-level="" data-path="describing-data.html"><a href="describing-data.html#the-center-of-a-distribution"><i class="fa fa-check"></i>The Center of a Distribution</a></li>
<li class="chapter" data-level="" data-path="describing-data.html"><a href="describing-data.html#resistance"><i class="fa fa-check"></i>Resistance</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="describing-data.html"><a href="describing-data.html#one-quantitative-variable-measures-of-spread"><i class="fa fa-check"></i><b>2.3</b> One Quantitative Variable: Measures of Spread</a><ul>
<li class="chapter" data-level="" data-path="describing-data.html"><a href="describing-data.html#standard-deviation"><i class="fa fa-check"></i>Standard Deviation</a></li>
<li class="chapter" data-level="" data-path="describing-data.html"><a href="describing-data.html#percentiles"><i class="fa fa-check"></i>Percentiles</a></li>
<li class="chapter" data-level="" data-path="describing-data.html"><a href="describing-data.html#five-number-summary"><i class="fa fa-check"></i>Five Number Summary</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="describing-data.html"><a href="describing-data.html#outliers-boxplots-and-quantitativecategorical-relationships"><i class="fa fa-check"></i><b>2.4</b> Outliers, Boxplots, and Quantitative/Categorical Relationships</a><ul>
<li class="chapter" data-level="" data-path="describing-data.html"><a href="describing-data.html#detection-of-outliers"><i class="fa fa-check"></i>Detection of Outliers</a></li>
<li class="chapter" data-level="" data-path="describing-data.html"><a href="describing-data.html#boxplots"><i class="fa fa-check"></i>Boxplots</a></li>
<li class="chapter" data-level="" data-path="describing-data.html"><a href="describing-data.html#one-quantitative-and-one-categorical-variable"><i class="fa fa-check"></i>One Quantitative and One Categorical Variable</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="describing-data.html"><a href="describing-data.html#two-quantitative-variables-scatterplot-and-correlation"><i class="fa fa-check"></i><b>2.5</b> Two Quantitative Variables: Scatterplot and Correlation</a><ul>
<li class="chapter" data-level="" data-path="describing-data.html"><a href="describing-data.html#visualizing-a-relationship-between-two-quantitative-variables-scatterplots"><i class="fa fa-check"></i>Visualizing a Relationship between Two Quantitative Variables: Scatterplots</a></li>
<li class="chapter" data-level="" data-path="describing-data.html"><a href="describing-data.html#summarizing-a-relationship-between-two-quantitative-variables-correlation"><i class="fa fa-check"></i>Summarizing a Relationship between Two Quantitative Variables: Correlation</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="describing-data.html"><a href="describing-data.html#two-quantitative-variables-linear-regression"><i class="fa fa-check"></i><b>2.6</b> Two Quantitative Variables: Linear Regression</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="confidence-intervals.html"><a href="confidence-intervals.html"><i class="fa fa-check"></i><b>3</b> Confidence Intervals</a><ul>
<li class="chapter" data-level="3.1" data-path="confidence-intervals.html"><a href="confidence-intervals.html#sampling-distributions"><i class="fa fa-check"></i><b>3.1</b> Sampling Distributions</a><ul>
<li class="chapter" data-level="" data-path="confidence-intervals.html"><a href="confidence-intervals.html#variability-of-sample-statistics"><i class="fa fa-check"></i>Variability of Sample Statistics</a></li>
<li class="chapter" data-level="" data-path="confidence-intervals.html"><a href="confidence-intervals.html#measuring-sampling-variability-the-standard-error"><i class="fa fa-check"></i>Measuring Sampling Variability: The Standard Error</a></li>
<li class="chapter" data-level="" data-path="confidence-intervals.html"><a href="confidence-intervals.html#the-importance-of-sample-size"><i class="fa fa-check"></i>The Importance of Sample Size</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="confidence-intervals.html"><a href="confidence-intervals.html#understanding-and-interpreting-confidence-intervals"><i class="fa fa-check"></i><b>3.2</b> Understanding and Interpreting Confidence Intervals</a><ul>
<li class="chapter" data-level="" data-path="confidence-intervals.html"><a href="confidence-intervals.html#interval-estimates-and-margin-of-error"><i class="fa fa-check"></i>Interval Estimates and Margin of Error</a></li>
<li class="chapter" data-level="" data-path="confidence-intervals.html"><a href="confidence-intervals.html#confidence-intervals-1"><i class="fa fa-check"></i>Confidence Intervals</a></li>
<li class="chapter" data-level="" data-path="confidence-intervals.html"><a href="confidence-intervals.html#understanding-confidence-intervals"><i class="fa fa-check"></i>Understanding Confidence Intervals</a></li>
<li class="chapter" data-level="" data-path="confidence-intervals.html"><a href="confidence-intervals.html#interpreting-confidence-intervals"><i class="fa fa-check"></i>Interpreting Confidence Intervals</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="confidence-intervals.html"><a href="confidence-intervals.html#constructing-bootstrap-confidence-intervals"><i class="fa fa-check"></i><b>3.3</b> Constructing Bootstrap Confidence Intervals</a><ul>
<li class="chapter" data-level="3.3.1" data-path="confidence-intervals.html"><a href="confidence-intervals.html#bootstrap-samples"><i class="fa fa-check"></i><b>3.3.1</b> Bootstrap Samples</a></li>
<li class="chapter" data-level="" data-path="confidence-intervals.html"><a href="confidence-intervals.html#bootstrap-distribution"><i class="fa fa-check"></i>Bootstrap Distribution</a></li>
<li class="chapter" data-level="" data-path="confidence-intervals.html"><a href="confidence-intervals.html#estimating-standard-error-based-on-a-bootstrap-distribution"><i class="fa fa-check"></i>Estimating Standard Error Based on a Bootstrap Distribution</a></li>
<li class="chapter" data-level="" data-path="confidence-intervals.html"><a href="confidence-intervals.html#confidence-interval-based-on-a-bootstrap-standard-error"><i class="fa fa-check"></i>95% Confidence Interval Based on a Bootstrap Standard Error</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="confidence-intervals.html"><a href="confidence-intervals.html#bootstrap-confidence-intervals-using-percentiles"><i class="fa fa-check"></i><b>3.4</b> Bootstrap Confidence Intervals Using Percentiles</a><ul>
<li class="chapter" data-level="" data-path="confidence-intervals.html"><a href="confidence-intervals.html#confidence-intervals-based-on-bootstrap-percentiles"><i class="fa fa-check"></i>Confidence Intervals Based on Bootstrap Percentiles</a></li>
<li class="chapter" data-level="" data-path="confidence-intervals.html"><a href="confidence-intervals.html#finding-confidence-intervals-for-many-different-parameters"><i class="fa fa-check"></i>Finding Confidence Intervals for Many Different Parameters</a></li>
<li class="chapter" data-level="" data-path="confidence-intervals.html"><a href="confidence-intervals.html#another-look-at-the-effect-of-sample-size"><i class="fa fa-check"></i>Another Look at the Effect of Sample Size</a></li>
<li class="chapter" data-level="" data-path="confidence-intervals.html"><a href="confidence-intervals.html#one-caution-on-constructing-bootstrap-confidence-intervals"><i class="fa fa-check"></i>One Caution on Constructing Bootstrap Confidence Intervals</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html"><i class="fa fa-check"></i><b>4</b> Hypothesis Tests</a><ul>
<li class="chapter" data-level="4.1" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html#introducing-hypothesis-tests"><i class="fa fa-check"></i><b>4.1</b> Introducing Hypothesis Tests</a><ul>
<li class="chapter" data-level="" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html#the-4-step-outline"><i class="fa fa-check"></i>The 4-step outline</a></li>
<li class="chapter" data-level="" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html#null-and-alternative-hypotheses"><i class="fa fa-check"></i>Null and Alternative Hypotheses</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html#measuring-evidence-with-p-values"><i class="fa fa-check"></i><b>4.2</b> Measuring Evidence with P-values</a><ul>
<li class="chapter" data-level="" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html#p-values-from-randomization-distributions"><i class="fa fa-check"></i>P-values from Randomization Distributions</a></li>
<li class="chapter" data-level="" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html#p-values-and-the-alternative-hypothesis"><i class="fa fa-check"></i>P-values and the Alternative Hypothesis</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html#determining-statisical-significance"><i class="fa fa-check"></i><b>4.3</b> Determining Statisical Significance</a><ul>
<li class="chapter" data-level="" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html#less-formal-statistical-decisions"><i class="fa fa-check"></i>Less Formal Statistical Decisions</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html#creating-randomization-distributions"><i class="fa fa-check"></i><b>4.4</b> Creating Randomization Distributions</a><ul>
<li class="chapter" data-level="" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html#randomization-test-for-a-difference-in-proportions-cocaine-addiction"><i class="fa fa-check"></i>Randomization Test for a Difference in Proportions: Cocaine Addiction</a></li>
<li class="chapter" data-level="" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html#randomization-test-for-a-correlation-malevolent-uniforms-and-penalties"><i class="fa fa-check"></i>Randomization Test for a Correlation: Malevolent Uniforms and Penalties</a></li>
<li class="chapter" data-level="" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html#randomization-test-for-a-mean-body-temperature"><i class="fa fa-check"></i>Randomization Test for a Mean: Body Temperature</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html#confidence-intervals-and-hypothesis-tests"><i class="fa fa-check"></i><b>4.5</b> Confidence Intervals and Hypothesis Tests</a><ul>
<li class="chapter" data-level="" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html#randomization-and-bootstrap-distributions"><i class="fa fa-check"></i>Randomization and Bootstrap Distributions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="approximating-with-a-distribution.html"><a href="approximating-with-a-distribution.html"><i class="fa fa-check"></i><b>5</b> Approximating with a Distribution</a><ul>
<li class="chapter" data-level="5.1" data-path="approximating-with-a-distribution.html"><a href="approximating-with-a-distribution.html#normal-distributions"><i class="fa fa-check"></i><b>5.1</b> Normal Distributions</a><ul>
<li class="chapter" data-level="" data-path="approximating-with-a-distribution.html"><a href="approximating-with-a-distribution.html#density-curves"><i class="fa fa-check"></i>Density Curves</a></li>
<li class="chapter" data-level="" data-path="approximating-with-a-distribution.html"><a href="approximating-with-a-distribution.html#normal-distributions-1"><i class="fa fa-check"></i>Normal Distributions</a></li>
<li class="chapter" data-level="" data-path="approximating-with-a-distribution.html"><a href="approximating-with-a-distribution.html#finding-normal-probabilities-and-percentiles"><i class="fa fa-check"></i>Finding Normal Probabilities and Percentiles</a></li>
<li class="chapter" data-level="" data-path="approximating-with-a-distribution.html"><a href="approximating-with-a-distribution.html#standard-normal-n01"><i class="fa fa-check"></i>Standard Normal N(0,1)</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="approximating-with-a-distribution.html"><a href="approximating-with-a-distribution.html#confidence-intervals-and-p-values-using-normal-distributions"><i class="fa fa-check"></i><b>5.2</b> Confidence Intervals and P-values Using Normal Distributions</a><ul>
<li class="chapter" data-level="" data-path="approximating-with-a-distribution.html"><a href="approximating-with-a-distribution.html#confidence-intervals-based-on-a-normal-distribution"><i class="fa fa-check"></i>Confidence Intervals Based on a Normal Distribution</a></li>
<li class="chapter" data-level="" data-path="approximating-with-a-distribution.html"><a href="approximating-with-a-distribution.html#p-values-based-on-a-normal-distribution"><i class="fa fa-check"></i>P-values Based on a Normal Distribution</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="inference-for-means-and-proportions.html"><a href="inference-for-means-and-proportions.html"><i class="fa fa-check"></i><b>6</b> Inference for Means and Proportions</a><ul>
<li class="chapter" data-level="6.1" data-path="inference-for-means-and-proportions.html"><a href="inference-for-means-and-proportions.html#distribution-of-a-sample-proportion"><i class="fa fa-check"></i><b>6.1</b> Distribution of a Sample Proportion</a><ul>
<li class="chapter" data-level="" data-path="inference-for-means-and-proportions.html"><a href="inference-for-means-and-proportions.html#how-large-a-sample-size-is-needed"><i class="fa fa-check"></i>How Large a Sample Size is Needed?</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="inference-for-means-and-proportions.html"><a href="inference-for-means-and-proportions.html#confidence-interval-for-a-single-proportion"><i class="fa fa-check"></i><b>6.2</b> Confidence Interval for a Single Proportion</a><ul>
<li class="chapter" data-level="" data-path="inference-for-means-and-proportions.html"><a href="inference-for-means-and-proportions.html#confidence-interval-for-a-single-proportion-1"><i class="fa fa-check"></i>Confidence Interval for a Single Proportion</a></li>
<li class="chapter" data-level="" data-path="inference-for-means-and-proportions.html"><a href="inference-for-means-and-proportions.html#determining-sample-size-for-estimating-a-proportion"><i class="fa fa-check"></i>Determining Sample Size for Estimating a Proportion</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="inference-for-means-and-proportions.html"><a href="inference-for-means-and-proportions.html#test-for-a-single-proportion"><i class="fa fa-check"></i><b>6.3</b> Test for a Single Proportion</a></li>
<li class="chapter" data-level="6.4" data-path="inference-for-means-and-proportions.html"><a href="inference-for-means-and-proportions.html#distribution-of-a-sample-mean"><i class="fa fa-check"></i><b>6.4</b> Distribution of a Sample Mean</a><ul>
<li class="chapter" data-level="" data-path="inference-for-means-and-proportions.html"><a href="inference-for-means-and-proportions.html#computing-the-standard-error"><i class="fa fa-check"></i>Computing the Standard Error</a></li>
<li class="chapter" data-level="" data-path="inference-for-means-and-proportions.html"><a href="inference-for-means-and-proportions.html#how-large-a-sample-size-is-needed-1"><i class="fa fa-check"></i>How Large a Sample Size is Needed?</a></li>
<li class="chapter" data-level="" data-path="inference-for-means-and-proportions.html"><a href="inference-for-means-and-proportions.html#the-t-distribution"><i class="fa fa-check"></i>The t-Distribution</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="inference-for-means-and-proportions.html"><a href="inference-for-means-and-proportions.html#confidence-interval-for-a-mean-using-the-t-distribution"><i class="fa fa-check"></i><b>6.5</b> Confidence Interval for a Mean Using the t-Distribution</a><ul>
<li class="chapter" data-level="" data-path="inference-for-means-and-proportions.html"><a href="inference-for-means-and-proportions.html#confidence-interval-for-a-mean-using-the-t-distribution-1"><i class="fa fa-check"></i>Confidence Interval for a Mean Using the t-Distribution</a></li>
<li class="chapter" data-level="" data-path="inference-for-means-and-proportions.html"><a href="inference-for-means-and-proportions.html#determining-sample-size-for-estimating-a-mean"><i class="fa fa-check"></i>Determining Sample Size for Estimating a Mean</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="inference-for-means-and-proportions.html"><a href="inference-for-means-and-proportions.html#test-for-a-single-mean"><i class="fa fa-check"></i><b>6.6</b> Test for a Single Mean</a></li>
<li class="chapter" data-level="6.7" data-path="inference-for-means-and-proportions.html"><a href="inference-for-means-and-proportions.html#distribution-of-differences-in-proportions"><i class="fa fa-check"></i><b>6.7</b> Distribution of Differences in Proportions</a></li>
<li class="chapter" data-level="6.8" data-path="inference-for-means-and-proportions.html"><a href="inference-for-means-and-proportions.html#confidence-interval-for-a-difference-in-proportions"><i class="fa fa-check"></i><b>6.8</b> Confidence Interval for a Difference in Proportions</a></li>
<li class="chapter" data-level="6.9" data-path="inference-for-means-and-proportions.html"><a href="inference-for-means-and-proportions.html#test-for-a-difference-in-proportions"><i class="fa fa-check"></i><b>6.9</b> Test For a Difference in Proportions</a></li>
<li class="chapter" data-level="6.10" data-path="inference-for-means-and-proportions.html"><a href="inference-for-means-and-proportions.html#distribution-of-differences-in-means"><i class="fa fa-check"></i><b>6.10</b> Distribution of Differences in Means</a><ul>
<li class="chapter" data-level="" data-path="inference-for-means-and-proportions.html"><a href="inference-for-means-and-proportions.html#the-t-distribution-1"><i class="fa fa-check"></i>The t-Distribution</a></li>
</ul></li>
<li class="chapter" data-level="6.11" data-path="inference-for-means-and-proportions.html"><a href="inference-for-means-and-proportions.html#confidence-interval-for-a-difference-in-means"><i class="fa fa-check"></i><b>6.11</b> Confidence Interval for a Difference in Means</a></li>
<li class="chapter" data-level="6.12" data-path="inference-for-means-and-proportions.html"><a href="inference-for-means-and-proportions.html#test-for-a-difference-in-means"><i class="fa fa-check"></i><b>6.12</b> Test for a Difference in Means</a></li>
<li class="chapter" data-level="6.13" data-path="inference-for-means-and-proportions.html"><a href="inference-for-means-and-proportions.html#paired-difference-in-means"><i class="fa fa-check"></i><b>6.13</b> Paired Difference in Means</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="chi-squared-tests-for-categorical-variables.html"><a href="chi-squared-tests-for-categorical-variables.html"><i class="fa fa-check"></i><b>7</b> Chi-Squared Tests for Categorical Variables</a><ul>
<li class="chapter" data-level="7.1" data-path="chi-squared-tests-for-categorical-variables.html"><a href="chi-squared-tests-for-categorical-variables.html#testing-goodness-of-fit-for-a-single-categorical-variable"><i class="fa fa-check"></i><b>7.1</b> Testing Goodness-of-Fit for a Single Categorical Variable</a><ul>
<li class="chapter" data-level="" data-path="chi-squared-tests-for-categorical-variables.html"><a href="chi-squared-tests-for-categorical-variables.html#chi-square-statistic"><i class="fa fa-check"></i>Chi-square Statistic</a></li>
<li class="chapter" data-level="" data-path="chi-squared-tests-for-categorical-variables.html"><a href="chi-squared-tests-for-categorical-variables.html#chi-square-distribution"><i class="fa fa-check"></i>Chi-square Distribution</a></li>
<li class="chapter" data-level="" data-path="chi-squared-tests-for-categorical-variables.html"><a href="chi-squared-tests-for-categorical-variables.html#goodness-of-fit-for-two-categories"><i class="fa fa-check"></i>Goodness-of-Fit for Two Categories</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="chi-squared-tests-for-categorical-variables.html"><a href="chi-squared-tests-for-categorical-variables.html#testing-for-an-association-between-two-categorical-variables"><i class="fa fa-check"></i><b>7.2</b> Testing for an Association Between Two Categorical Variables</a><ul>
<li class="chapter" data-level="" data-path="chi-squared-tests-for-categorical-variables.html"><a href="chi-squared-tests-for-categorical-variables.html#chi-square-test-for-association"><i class="fa fa-check"></i>Chi-square Test for Association</a></li>
<li class="chapter" data-level="" data-path="chi-squared-tests-for-categorical-variables.html"><a href="chi-squared-tests-for-categorical-variables.html#special-case-for-a-2-x-2-table"><i class="fa fa-check"></i>Special Case for a 2 x 2 Table</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="anova-to-compare-means.html"><a href="anova-to-compare-means.html"><i class="fa fa-check"></i><b>8</b> ANOVA to Compare Means</a><ul>
<li class="chapter" data-level="8.1" data-path="anova-to-compare-means.html"><a href="anova-to-compare-means.html#analysis-of-variance"><i class="fa fa-check"></i><b>8.1</b> Analysis of Variance</a><ul>
<li class="chapter" data-level="" data-path="anova-to-compare-means.html"><a href="anova-to-compare-means.html#null-and-alternative-hypotheses-1"><i class="fa fa-check"></i>Null and Alternative Hypotheses</a></li>
<li class="chapter" data-level="" data-path="anova-to-compare-means.html"><a href="anova-to-compare-means.html#partitioning-variability"><i class="fa fa-check"></i>Partitioning Variability</a></li>
<li class="chapter" data-level="" data-path="anova-to-compare-means.html"><a href="anova-to-compare-means.html#the-f-statistic"><i class="fa fa-check"></i>The F-Statistic</a></li>
<li class="chapter" data-level="" data-path="anova-to-compare-means.html"><a href="anova-to-compare-means.html#the-f-distribution"><i class="fa fa-check"></i>The F-distribution</a></li>
<li class="chapter" data-level="" data-path="anova-to-compare-means.html"><a href="anova-to-compare-means.html#more-examples-of-anova"><i class="fa fa-check"></i>More Examples of ANOVA</a></li>
<li class="chapter" data-level="" data-path="anova-to-compare-means.html"><a href="anova-to-compare-means.html#anova-calculations"><i class="fa fa-check"></i>ANOVA Calculations</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="anova-to-compare-means.html"><a href="anova-to-compare-means.html#pairwise-comparisons-and-inference-after-anova"><i class="fa fa-check"></i><b>8.2</b> Pairwise Comparisons and Inference After ANOVA</a><ul>
<li class="chapter" data-level="" data-path="anova-to-compare-means.html"><a href="anova-to-compare-means.html#using-anova-for-inferences-about-group-means"><i class="fa fa-check"></i>Using ANOVA for Inferences about Group Means</a></li>
<li class="chapter" data-level="" data-path="anova-to-compare-means.html"><a href="anova-to-compare-means.html#lots-of-pairwise-comparisons"><i class="fa fa-check"></i>Lots of Pairwise Comparisons</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="inference-for-regression.html"><a href="inference-for-regression.html"><i class="fa fa-check"></i><b>9</b> Inference for Regression</a><ul>
<li class="chapter" data-level="9.1" data-path="inference-for-regression.html"><a href="inference-for-regression.html#inference-for-slope-and-correlation"><i class="fa fa-check"></i><b>9.1</b> Inference for Slope and Correlation</a><ul>
<li class="chapter" data-level="" data-path="inference-for-regression.html"><a href="inference-for-regression.html#simple-linear-model"><i class="fa fa-check"></i>Simple Linear Model</a></li>
<li class="chapter" data-level="" data-path="inference-for-regression.html"><a href="inference-for-regression.html#inference-for-slope"><i class="fa fa-check"></i>Inference for Slope</a></li>
<li class="chapter" data-level="" data-path="inference-for-regression.html"><a href="inference-for-regression.html#t-test-for-correlation"><i class="fa fa-check"></i>t-Test for Correlation</a></li>
<li class="chapter" data-level="" data-path="inference-for-regression.html"><a href="inference-for-regression.html#coefficient-of-determination-r-squared"><i class="fa fa-check"></i>Coefficient of Determination: R-squared</a></li>
<li class="chapter" data-level="" data-path="inference-for-regression.html"><a href="inference-for-regression.html#checking-conditions-for-a-simple-linear-model"><i class="fa fa-check"></i>Checking Conditions for a Simple Linear Model</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="inference-for-regression.html"><a href="inference-for-regression.html#anova-for-regression"><i class="fa fa-check"></i><b>9.2</b> ANOVA for Regression</a><ul>
<li class="chapter" data-level="" data-path="inference-for-regression.html"><a href="inference-for-regression.html#partitioning-variability-1"><i class="fa fa-check"></i>Partitioning Variability</a></li>
<li class="chapter" data-level="" data-path="inference-for-regression.html"><a href="inference-for-regression.html#f-statistic"><i class="fa fa-check"></i>F-Statistic</a></li>
<li class="chapter" data-level="" data-path="inference-for-regression.html"><a href="inference-for-regression.html#computational-details"><i class="fa fa-check"></i>Computational Details</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="inference-for-regression.html"><a href="inference-for-regression.html#confidence-and-prediction-intervals"><i class="fa fa-check"></i><b>9.3</b> Confidence and Prediction Intervals</a><ul>
<li class="chapter" data-level="" data-path="inference-for-regression.html"><a href="inference-for-regression.html#interpreting-confidence-and-prediction-intervals"><i class="fa fa-check"></i>Interpreting Confidence and Prediction Intervals</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="multiple-regression.html"><a href="multiple-regression.html"><i class="fa fa-check"></i><b>10</b> Multiple Regression</a><ul>
<li class="chapter" data-level="10.1" data-path="multiple-regression.html"><a href="multiple-regression.html#multiple-predictors"><i class="fa fa-check"></i><b>10.1</b> Multiple Predictors</a><ul>
<li class="chapter" data-level="" data-path="multiple-regression.html"><a href="multiple-regression.html#multiple-regression-model"><i class="fa fa-check"></i>Multiple Regression Model</a></li>
<li class="chapter" data-level="" data-path="multiple-regression.html"><a href="multiple-regression.html#testing-individual-terms-in-a-model"><i class="fa fa-check"></i>Testing Individual Terms in a Model</a></li>
<li class="chapter" data-level="" data-path="multiple-regression.html"><a href="multiple-regression.html#anova-for-a-multiple-regression-model"><i class="fa fa-check"></i>ANOVA for a Multiple Regression Model</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="multiple-regression.html"><a href="multiple-regression.html#checking-conditions-for-a-regression-model"><i class="fa fa-check"></i><b>10.2</b> Checking Conditions for a Regression Model</a><ul>
<li class="chapter" data-level="" data-path="multiple-regression.html"><a href="multiple-regression.html#histogramdotplotboxplot-of-residuals"><i class="fa fa-check"></i>Histogram/Dotplot/Boxplot of Residuals</a></li>
<li class="chapter" data-level="" data-path="multiple-regression.html"><a href="multiple-regression.html#checking-conditions-for-a-multiple-regression-model"><i class="fa fa-check"></i>Checking Conditions for a Multiple Regression Model</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="multiple-regression.html"><a href="multiple-regression.html#using-multiple-regression"><i class="fa fa-check"></i><b>10.3</b> Using Multiple Regression</a><ul>
<li class="chapter" data-level="" data-path="multiple-regression.html"><a href="multiple-regression.html#choosing-a-model"><i class="fa fa-check"></i>Choosing a Model</a></li>
<li class="chapter" data-level="" data-path="multiple-regression.html"><a href="multiple-regression.html#categorical-variables-1"><i class="fa fa-check"></i>Categorical Variables</a></li>
<li class="chapter" data-level="" data-path="multiple-regression.html"><a href="multiple-regression.html#accounting-for-confounding-variables"><i class="fa fa-check"></i>Accounting for Confounding Variables</a></li>
<li class="chapter" data-level="" data-path="multiple-regression.html"><a href="multiple-regression.html#association-between-explanatory-variables"><i class="fa fa-check"></i>Association between Explanatory Variables</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Lock5 With R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introduction-to-r-and-statistics" class="section level1 unnumbered">
<h1>Introduction to R and Statistics</h1>
<div id="getting-started-with-rstudio" class="section level2">
<h2><span class="header-section-number">0.1</span> Getting Started With RStudio</h2>
<!-- \iffalse -->
<!-- ### Logging in and changing your password {-} -->
<!-- You will be prompted to login.  Your login and password are both your Calvin userid.   -->
<!-- Once you are logged in, you will see something like  -->
<!-- Figure~\@ref(fig:Rstudio-welcome). -->
<p>You should change your password. Here’s how.
<!-- begin enumerate --></p>
<ol>
<li>From the <span class="tab">Tools</span> menu, select <span class="tab">Shell</span></li>
<li>Type <code>yppasswd</code></li>
<li>You will be prompted for your old password, then your new password twice.</li>
<li>If you give a sufficiently strong new password (at least six letters, at least one capital, etc.) you will receive notice that your password has been reset. If there was a problem, you will see a message about it and can try again.</li>
<li>Once you have reset your password, click on <span class="tab">Close</span> to close the shell and get back to RStudio.
<!-- end enumerate --></li>
</ol>
<!-- \fi -->
<div id="rstudio" class="section level3 unnumbered">
<h3>RStudio</h3>
<p>RStudio provides an integrated development environment (IDE) for R that makes R much easier to use.
It is freely available from <a href="http://rstudio.com">rstudio.com</a> in versions for Macintosh, PC, or Linux.
RStudio server provides access to RStudio via a web browser. We will generally assume that RStudio
is being used throughout. Although most things can be done without RStudio as well, our descriptions
may apply only to RStudio .</p>
</div>
<div id="loading-packages" class="section level3 unnumbered">
<h3>Loading packages</h3>
<p>R is divided up into packages. A few of these are loaded every time you run R but most have to be selected.<br />
This way you only have as much of R as you need.</p>
<p>In the <span class="tab">Packages</span> tab in RStudio ,
check the boxes next to the following packages to load them:
<!-- begin itemize --></p>
<ol>
<li>Lock5withR (data sets and utilities to accompany the text)</li>
<li>mosaic (a package from Project MOSAIC)</li>
<li>mosaicData (Project MOSAIC data sets)
<!-- end itemize --></li>
</ol>
<p>You can also load these packages with the following commands:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">require</span>(Lock5withR)
<span class="kw">require</span>(mosaic)
<span class="kw">require</span>(mosaicData)</code></pre>
<p>We will always assume that these three packages have been loaded.</p>
<p><img src="images/RStudio-Welcome.png" alt="“Welcome to RStudio.”" />
Figure 1: Welcome to RStudio</p>
</div>
<div id="using-r-as-a-calculator" class="section level3 unnumbered">
<h3>Using R as a calculator</h3>
<p>Notice that RStudio divides its world into four panels. Several of the panels are further subdivided into multiple tabs.
The console panel is where we type commands that R will execute.</p>
<p>R can be used as a calculator. Try typing the following commands in the console panel.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="dv">5</span> <span class="op">+</span><span class="st"> </span><span class="dv">3</span></code></pre>
<pre><code>## [1] 8</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="fl">15.3</span> <span class="op">*</span><span class="st"> </span><span class="fl">23.4</span></code></pre>
<pre><code>## [1] 358.02</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sqrt</span>(<span class="dv">16</span>)</code></pre>
<pre><code>## [1] 4</code></pre>
<p>You can save values to named variables for later reuse</p>
<pre class="sourceCode r"><code class="sourceCode r">product =<span class="st"> </span><span class="fl">15.3</span> <span class="op">*</span><span class="st"> </span><span class="fl">23.4</span>       <span class="co"># save result</span>
product                     <span class="co"># show the result</span></code></pre>
<pre><code>## [1] 358.02</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">product &lt;-<span class="st"> </span><span class="fl">15.3</span> <span class="op">*</span><span class="st"> </span><span class="fl">23.4</span>      <span class="co"># &lt;- is assignment operator, same as =</span>
product                     </code></pre>
<pre><code>## [1] 358.02</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="fl">15.3</span> <span class="op">*</span><span class="st"> </span><span class="fl">23.4</span> -&gt;<span class="st"> </span>newproduct   <span class="co"># -&gt; assigns to the right</span>
newproduct</code></pre>
<pre><code>## [1] 358.02</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="fl">.5</span> <span class="op">*</span><span class="st"> </span>product                <span class="co"># half of the product</span></code></pre>
<pre><code>## [1] 179.01</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">log</span>(product)                <span class="co"># (natural) log of the product</span></code></pre>
<pre><code>## [1] 5.880589</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">log10</span>(product)              <span class="co"># base 10 log of the product</span></code></pre>
<pre><code>## [1] 2.553907</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">log</span>(product, <span class="dt">base =</span> <span class="dv">2</span>)      <span class="co"># base 2 log of the product</span></code></pre>
<pre><code>## [1] 8.483896</code></pre>
<p>The semi-colon can be used to place multiple commands on one line. One frequent use of this is to save and print a value all in one go:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="fl">15.3</span> <span class="op">*</span><span class="st"> </span><span class="fl">23.4</span> -&gt;<span class="st"> </span>product; product    <span class="co"># save result and show it</span></code></pre>
<pre><code>## [1] 358.02</code></pre>
</div>
</div>
<div id="getting-help-in-rstudio" class="section level2">
<h2><span class="header-section-number">0.2</span> Getting Help in RStudio</h2>
<div id="the-rstudio-help-system" class="section level3 unnumbered">
<h3>The RStudio help system</h3>
<p>There are several ways to get RStudio to help you when you forget something. Most objects in packages have help files that you can access by typing something like:</p>
<pre class="sourceCode r"><code class="sourceCode r">?bargraph
?histogram
?HELPrct</code></pre>
<p>You can search the help system using</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">help.search</span>(<span class="st">&#39;Grand Rapids&#39;</span>)    <span class="co"># Does R know anything about Grand Rapids?</span></code></pre>
<p>This can be useful if you don’t know the name of the function or data set you are looking for.</p>
</div>
<div id="history" class="section level3 unnumbered">
<h3>History</h3>
<p>If you know you have done something before, but can’t remember how, you can search your history. The history tab shows a list of recently executed commands. There is also a search bar to help you find things from longer ago.</p>
</div>
<div id="error-messages" class="section level3 unnumbered">
<h3>Error messages</h3>
<p>When things go wrong, R tries to help you out by providing an error message. If you can’t make sense of the message, you can try copying and pasting your command and the error message and sending to me in an email. One common error message is illustrated below.</p>
<pre class="sourceCode r"><code class="sourceCode r">fred &lt;-<span class="st"> </span><span class="dv">23</span>
frd</code></pre>
<pre><code>## Error in eval(expr, envir, enclos): object &#39;frd&#39; not found</code></pre>
<p>The object <code>frd</code> is not found because it was mistyped. It should have been <code>fred</code>. If you see an ``object not found’’ message, check your typing and check to make sure that the necessary packages have been loaded.</p>
</div>
</div>
<div id="four-things-to-know-about-r" class="section level2">
<h2><span class="header-section-number">0.3</span> Four Things to Know About R</h2>
<p>Computers are great for doing complicated computations quickly, but you have to speak to them on their terms. Here are few things that will help you communicate with R
<!-- begin enumerate --></p>
<ol class="example" style="list-style-type: decimal">
<li><p>R is case-sensitive</p>
<p>If you mis-capitalize something in R it won’t do what you want.</p></li>
<li><p>Functions in R use the following syntax:</p>
<pre class="sourceCode r"><code class="sourceCode r">  <span class="kw">functionname</span>( argument1, argument2, ... )</code></pre>
<!-- begin itemize -->
<ul>
<li><p>The arguments are <strong>always</strong> <em>surrounded by (round) parentheses</em> and <em>separated by commas</em>.</p></li>
<li><p>Some functions (like <code>data()</code>) have no required arguments, but you still need the parentheses.</p></li>
<li><p>If you type a function name without the parentheses, you will see the <em>code</em> for that function – which probably isn’t what you want at this point.</p></li>
</ul></li>
</ol>
<!-- end itemize -->
<ol start="3" class="example" style="list-style-type: decimal">
<li><p>TAB completion and arrows can improve typing speed and accuracy.</p>
<p>If you begin a command and hit the TAB key, R will show you a list of possible ways to complete the command. If you hit TAB after the opening parenthesis of a function, it will show you the list of arguments it expects. The up and down arrows can be used to retrieve past commands.</p></li>
<li><p>If you get into some sort of mess typing (usually indicated by extra ‘<span class="math inline">\(+\)</span>’
signs along the left edge), you can hit the escape key to get back to
a clean prompt.
<!-- end enumerate --></p></li>
</ol>
</div>
<div id="data-in-r" class="section level2">
<h2><span class="header-section-number">0.4</span> Data in R</h2>
<div id="data-in-packages" class="section level3 unnumbered">
<h3>Data in Packages</h3>
<p>Most often, data sets in R are stored in a structure called a <strong>data frame</strong>. There are a number of data sets built into R and many more that come in various add on packages. The <strong><code>Lock5withR</code></strong> package, for example, contains all the data sets from our text book. In the book, data set names are printed in bold text.</p>
<p>You can see a list of them using</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(<span class="dt">package =</span> <span class="st">&quot;Lock5withR&quot;</span>)</code></pre>
<p>You can find a longer list of all data sets available in any loaded package using</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>()</code></pre>
</div>
<div id="the-helprct-data-set" class="section level3 unnumbered">
<h3>The HELPrct data set</h3>
<p>The <span style="color:blue">HELPrct</span> data frame from the <strong><code>mosaicData</code></strong> package contains data from the
Health Evaluation and Linkage to Primary Care randomized clinical trial.<br />
You can find out more about the study and the data in this data frame by typing</p>
<pre class="sourceCode r"><code class="sourceCode r">?HELPrct</code></pre>
<p>Among other things, this will tell us something about the subjects in this study:
<!-- begin quote --></p>
<blockquote>
<p>Eligible subjects were adults, who spoke Spanish or English, reported
alcohol, heroin or cocaine as their first or second drug of choice, resided
in proximity to the primary care clinic to which they would be referred or
were homeless. Patients with established primary care relationships they
planned to continue, significant dementia, specific plans to leave the
Boston area that would prevent research participation, failure to provide
contact information for tracking purposes, or pregnancy were excluded.</p>
</blockquote>
<blockquote>
<p>Subjects were interviewed at baseline during their detoxification stay and
follow-up interviews were undertaken every 6 months for 2 years.
<!-- end quote --></p>
</blockquote>
<p>It is often handy to look at the first few rows of a data frame. It will show you the names of the variables and the kind of data in them:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(HELPrct)</code></pre>
<p>That’s plenty of variables to get us started with exploration of data.</p>
</div>
<div id="using-your-own-data" class="section level3 unnumbered">
<h3>Using your own data</h3>
<div id="from-excel-or-google-to-r" class="section level4 unnumbered">
<h4>From Excel or Google to R</h4>
<p>So far we have been using data that lives in R packages. This has allowed us
to focus on things like how to make plots and create numerical summaries
without worrying too much about the data themselves. But if you are going to
do any of your own statistical analyses, then you will need to import your own
data into R and have some tools for manipulating the data once it is there.</p>
<p>Excel or Google spreadsheets are reasonable tools for entering (small) data
sets by hand and doing basic data tidying (organizing) and cleaning (correcting
errors). This section describes how to get data from a spreadsheet into R</p>
</div>
<div id="while-you-are-still-in-the-spreadsheet" class="section level4 unnumbered">
<h4>While you are still in the spreadsheet</h4>
<p>If you are creating your own data in a spreadsheet with the intent of bringing
into R (or some other statistical package) for analysis, it is important that
you design your spreadsheet appropriately. For most data sets this will mean
<!-- begin enumerate --></p>
<ol style="list-style-type: decimal">
<li><p>The first row should contain variables names.</p>
<p>These should be names that will work well in R This usually means they will be relatively short and avoid spaces and punctuation.</p></li>
<li><p>Each additional row corresponds to a case/observational unit.</p></li>
<li><p>Each column corresponds to a variable.</p></li>
<li><p>There is <strong>nothing</strong> else in the spreadsheet.</p>
<p>Do not include notes to yourself, plots, numerical summaries, etc. These things can be kept in a separate worksheet, another file, your lab notebook, just not in the worksheet you are going to export.
<!-- end enumerate --></p></li>
</ol>
</div>
<div id="exporting-to-csv" class="section level4 unnumbered">
<h4>Exporting to csv</h4>
<p>The comma separated values (csv) format has become a standard way of transferring data between programs. Both Google and Excel can export to this format, and R can import from this format. Once your dataare ready to go, export them to csv. Give the file a good name, and remember where you have put it.</p>
</div>
<div id="uploading-the-data-rstudio-server-only" class="section level4 unnumbered">
<h4>Uploading the data (RStudio server only)</h4>
<p>To get the data from your computer onto the server, you need to <strong>upload</strong> the data. (You can skip this step if you are working with a local copy of RStudio ) Uploading transfers a copy of your data from your computer onto the server (the “cloud”). This is like uploading pictures to Facebook so you can later use them in posts or as a cover photo or tag your friends or whatever else once the photo is on Facebook.</p>
<p>To upload the data, go to the <strong>Files</strong> tab and click on <strong>Upload</strong>:</p>
<!-- begin center -->
<p><img src="images/Upload.png" alt="Caption" />
<!-- end center --></p>
<p>A window will pop up prompting you to browse to the file’s location on your computer. Choose the file and it will upload to the server. You should see it appear in your file menu.</p>
</div>
<div id="importing-the-data-into-r" class="section level4 unnumbered">
<h4>Importing the data into R</h4>
<p>Now that the file is on the server, you can import it into R This takes place in the <strong>Environment</strong> tab. Once there, choose <strong>Import Dataset</strong> and then <strong>From Text File…</strong>.<br />
<!-- begin center -->
<img src="images/Import1.png" alt="Caption" />
<!-- end center --></p>
<p>The instructions are pretty clear from there, but here are some things to watch for:
<!-- begin itemize --></p>
<ol>
<li>The default name for the data set is taken from the file name. If you used a very long file name, you will probably want to shorten this down. (But don’t call it <code>Data</code> or something too generic either.) If the data are from the asters you have been tagging, perhaps call it <code>Asters</code>. If you are working with multiple data sets that deal with asters, add a bit more detail, perhaps <code>Asters01</code> or some such thing.</li>
<li>Be sure to select to use your first line as variable names (Heading = Yes).
<!-- end itemize --></li>
</ol>
<!-- begin center -->
<p><img src="images/Import2.png" alt="Caption" />
<!-- end center --></p>
<p>The data set should now be ready for use in R</p>
</div>
<div id="a-shortcut-for-google-spreadsheets" class="section level4 unnumbered">
<h4>A shortcut for Google Spreadsheets</h4>
<p>The new <strong><code>googlesheets</code></strong> package provides a number of utilities
for reading and writing between R and Google sheets. At the time
of this writing, it is in active development and available via github.</p>
</div>
<div id="using-r-commands-to-read-a-data-file" class="section level4 unnumbered">
<h4>Using R commands to read a data file</h4>
<p>Even if you primarily use the RStudio interface to import data, it is good to know about the command line methods since these are required to import data into scripts, RMarkdown, and Rnw files. CSV files (and a few other types of files as well) can be read with</p>
<pre class="sourceCode r"><code class="sourceCode r">someData &lt;-<span class="st"> </span><span class="kw">read.file</span>(<span class="st">&quot;file.csv&quot;</span>)</code></pre>
<p>This can be used to read data directly from a URL as well. For example, here is some data from the US Census Bureau:
<!-- This is link is broken. Should point to some government data set that doesn't exist anymore -->
<!-- # ```{r tidy=FALSE} -->
<!-- # Population <- read.file( -->
<!-- #   "https://www.census.gov/popest/data/national/totals/2012/files/NST_EST2012_ALLDATA.csv" -->
<!-- # ) -->
<!-- # dim(Population) -->
<!-- # head(Population, 4) -->
<!-- # ``` --></p>
<p>Many web sites provide data in csv format.<br />
Here some examples:
<!-- begin itemize --></p>
<ol>
<li><a href="http://www.census.gov/" class="uri">http://www.census.gov/</a> (Census Bureau data)</li>
<li><a href="http://www.ncdc.noaa.gov/data-access" class="uri">http://www.ncdc.noaa.gov/data-access</a> (NOAA Weather and climate data)</li>
<li><a href="http://www.gapminder.org/data/" class="uri">http://www.gapminder.org/data/</a> (Gapminder data)</li>
<li><a href="http://introcs.cs.princeton.edu/java/data/" class="uri">http://introcs.cs.princeton.edu/java/data/</a> has a number of data sets, some in csv format, collected from other places on the internet.</li>
<li><a href="http://www.exploredata.net/Downloads" class="uri">http://www.exploredata.net/Downloads</a> has data from WHO, a genome expression study, and a microbiome study.
<!-- end itemize --></li>
</ol>
<p>But be aware that some of these files might need to be cleaned up a bit before
they are usable for statistics. Also, some internet files are very large and
may take a while to download. Many sites will give an indication of the size
of the data set so you know what you are in for. The better sites will
include links to a code book (a description of all the variables, units used,
how and when the data were collected, and any other information relevant to
interpreting the data). Such a document is available for the population data
loaded above. You can find it at
<a href="http://www.census.gov/popest/data/national/totals/2012/files/NST-EST2012-alldata.pdf" class="uri">http://www.census.gov/popest/data/national/totals/2012/files/NST-EST2012-alldata.pdf</a></p>
</div>
<div id="missing-data" class="section level4 unnumbered">
<h4>Missing Data</h4>
<p>The <span style="color:brown">na.strings</span> argument can be used to specify codes for missing values. The following can be useful, for example:</p>
<pre class="sourceCode r"><code class="sourceCode r">someData &lt;-<span class="st"> </span><span class="kw">read.file</span>(<span class="st">&#39;file.csv&#39;</span>, <span class="dt">na.strings =</span> <span class="st">&#39;.&#39;</span>)
someData &lt;-<span class="st"> </span><span class="kw">read.file</span>(<span class="st">&#39;file.csv&#39;</span>, <span class="dt">na.strings =</span> <span class="st">&#39;-&#39;</span>)</code></pre>
<p>because SAS uses a period (.) to code missing data, and some csv exporters use `<code>-</code>’. By default R reads these as string data, which forces the entire variable to be of character type instead of numeric.</p>
</div>
<div id="importing-other-kinds-of-data" class="section level4 unnumbered">
<h4>Importing Other Kinds of Data</h4>
<p>Many R packages provide the ability to load data from special data files. If you have data in some other format, there may well be
a package that makes it easy to load your data into R. For example, several packages (including <strong><code>readxl</code></strong>) provide the ability to read data
directly from Excel files without first saving the data as a csv file. If you make frequent use of Excel spreadsheets, you may find
this convenient. <strong><code>rdrop2</code></strong> provides the ability to manage data with Dropbox. And the <strong><code>foreign</code></strong> package provides functions
to read data from a wide range of other statistical packages.
But since these typically all know how to read and write csv files,
learning a workflow that goes through CSV is a broadly applicable skill.</p>
</div>
</div>
</div>
<div id="the-most-important-template" class="section level2">
<h2><span class="header-section-number">0.5</span> The Most Important Template</h2>
<p>Most of what we will do in this chapter makes use of a single R template:</p>

<p><span class="math display">\[
\fbox{`________`} \; ( \; \fbox{`________`} \; \sim \; \fbox{`________`} \;, \; data = \fbox{`________`} \; )
\]</span></p>
<p>It is useful if we name the slots in this template:</p>
<p><span class="math display">\[
\fbox{goal} \; (  \;\fbox{y}  \;\sim  \;\fbox{x} \;, \; \texttt{data}=\fbox{mydata} \; )
\]</span></p>
<p>Actually, there are some variations on this template:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">### Simpler version -- for just one variable</span>
<span class="kw">goal</span>( <span class="op">~</span><span class="st"> </span>x, <span class="dt">data =</span> mydata )

<span class="co">### Fancier version: </span>
<span class="kw">goal</span>( y <span class="op">~</span><span class="st"> </span>x <span class="op">|</span><span class="st"> </span>z , <span class="dt">data =</span> mydata )
 
<span class="co">### Unified version: </span>
<span class="kw">goal</span>( formula , <span class="dt">data =</span> mydata )</code></pre>
<p>To use the template (we’ll call it the formula template because there is always
a formula involved), you just need to know what goes in each slot. This can be determined by asking yourself two questions:</p>
<ol style="list-style-type: decimal">
<li>What do you want R to do?
<ul>
<li>this determines what function to use (goal).</li>
</ul></li>
<li>What must R know to do that?
<ul>
<li>this determines the inputs to the function</li>
<li>for describing data, must must identify <em>which data frame</em> and <em>which variable(s)</em>.</li>
</ul></li>
</ol>
<p>Let’s try an example. Suppose we want to make this plot
<img src="Lock5WithR_files/figure-html/unnamed-chunk-8-1.png" width="65%" /></p>
<!-- begin enumerate -->
<ol style="list-style-type: decimal">
<li><p>What is our goal?</p>
<p>Our goal is to make a scatter plot. The function that does this is called <code>gf_point()</code>. That takes care of the first slot.</p></li>
<li><p>What does R need to know to do this?</p>
<p>It needs to know what data set to use, and which varialbes to use on the x and y axes. These data are in the <span style="color:blue">Births78</span> data set in the <strong><code>mosaicData</code></strong> package. Let’s take a quick look at the data:</p></li>
</ol>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">require</span>(mosaicData)  <span class="co"># load the package that contains our data set</span>
<span class="kw">head</span>(Births78)</code></pre>
<pre><code>##         date births wday year month day_of_year day_of_month day_of_week
## 1 1978-01-01   7701  Sun 1978     1           1            1           1
## 2 1978-01-02   7527  Mon 1978     1           2            2           2
## 3 1978-01-03   8825  Tue 1978     1           3            3           3
## 4 1978-01-04   8859  Wed 1978     1           4            4           4
## 5 1978-01-05   9043  Thu 1978     1           5            5           5
## 6 1978-01-06   9208  Fri 1978     1           6            6           6</code></pre>
<p>We want the date on the x-axis and the number of births on the y axis, so
the full command is</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">xyplot</span>(births <span class="op">~</span><span class="st"> </span>date, <span class="dt">data =</span> Births78)</code></pre>
<p><img src="Lock5WithR_files/figure-html/births-scatterplot-1.png" width="65%" /></p>
<p>This same template can be used for a wide variety of graphical and
numerical summaries. For example, to compute the mean number of births, we can
change <code>xyplot()</code> to <code>mean()</code> and provide <span style="color:green">births</span>
but not <span style="color:green">date</span>:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>( <span class="op">~</span><span class="st"> </span>births, <span class="dt">data =</span> Births78)</code></pre>
<pre><code>## [1] 9132.162</code></pre>
<p>Notice that when there is only one variable, it goes on the right side of the
wiggle (~).</p>
<p>We’ll see more examples of this template as we go along.</p>
<!-- end enumerate -->
</div>
<div id="manipulating-your-data" class="section level2">
<h2><span class="header-section-number">0.6</span> Manipulating your data</h2>
<div id="creating-a-subset" class="section level3 unnumbered">
<h3>Creating a subset</h3>
<p>The <code>filter()</code> command can be used to create subsets. The population
data set we downloaded has population for states and various other regions. If we
just want the states, we can select the items where the <span style="color:green">State</span> variable is
greater than 0. (Notice the double equals for testing equality.)
<!-- Relies on data from a broken link -->
<!-- ```{r filter} -->
<!-- States <- filter(Population, State>0) -->
<!-- dim(States) -->
<!-- ``` --></p>
<p>That two states too many. We can scan the list to see what else is in there.
<!-- Relies on data from a broken link -->
<!-- ```{r extra-states} -->
<!-- States$name -->
<!-- ``` --></p>
<p>The two extras are Washington, DC and Peurto Rico.</p>
</div>
<div id="choosing-specific-columns" class="section level3 unnumbered">
<h3>Choosing specific columns</h3>
<p><code>filter()</code> chooses rows from a data frame. <code>select()</code> selects
columns. This can be handy if you have a data set with many more variables than you are interested in. Let’s pick just a handful from the <span style="color:blue">Population</span> data
set.
<!-- Relies on data from a broken link -->
<!-- ```{r select} -->
<!-- States2 <- select(States,  -->
<!--                   Name,  -->
<!--                   POPESTIMATE2010, POPESTIMATE2011, POPESTIMATE2012) -->
<!-- ``` --></p>
</div>
<div id="dropping-variables" class="section level3 unnumbered">
<h3>Dropping Variables</h3>
<p>Sometimes it is easier to think about dropping variables.
We can use <code>select()</code> for this as well:</p>
<pre class="sourceCode r"><code class="sourceCode r">iris2 &lt;-<span class="st"> </span><span class="kw">select</span>(iris, <span class="op">-</span><span class="st"> </span>Sepal.Width, <span class="op">-</span><span class="st"> </span>Sepal.Length)  <span class="co"># the minus sign means drop </span>
<span class="kw">head</span>(iris2, <span class="dv">3</span>)</code></pre>
<pre><code>##   Petal.Length Petal.Width Species
## 1          1.4         0.2  setosa
## 2          1.4         0.2  setosa
## 3          1.3         0.2  setosa</code></pre>
</div>
<div id="creating-new-variables" class="section level3 unnumbered">
<h3>Creating new variables</h3>
<p>We can add a new variable to data set using <code>mutate()</code>:
<!-- Relies on data from a broken link -->
<!-- ```{r tidy=FALSE} -->
<!-- head(iris, 3) -->
<!-- iris3  <- mutate(iris,  -->
<!--                     Sepal.Ratio = Sepal.Length / Sepal.Width, -->
<!--                     Petal.Ratio = Petal.Length / Petal.Width ) -->
<!-- head(iris3, 3) -->
<!-- States3 <- mutate(States2,  -->
<!--                     Pop.Increase = 100 * (POPESTIMATE2012 - POPESTIMATE2010)/POPESTIMATE2010 ) -->
<!-- histogram( ~ Pop.Increase, data = States3, width = 0.5,  -->
<!--                            main = "<!--  Population increase (2010 to 2012)") --> –&gt;
<!-- ``` --></p>
<p>Generally, it is a good idea to keep raw data (like <span style="color:green">Sepal.Length</span> and <span style="color:green">Sepal.Width</span> in your data file, but let R do the computation of derived variables for you. Among other advantages, if you ever fix an error in a <span style="color:green">Sepal.Length</span> measurement, you don’t have to worry about remembering to also recompute the ratio. Futhermore, your R code documents how the derived value was computed.</p>
</div>
<div id="saving-data" class="section level3 unnumbered">
<h3>Saving Data</h3>
<p><code>write.csv()</code> can be used to save data from R into csv formatted files. This can be useful for exporting to some other program.
<!-- Relies on data from a broken link -->
<!-- ```{r writingData} -->
<!-- write.csv(iris3, "iris3.csv") -->
<!-- ``` --></p>
<p>Data can also be saved in native R format. Saving data sets (and other R objects) using <code>save()</code> has some advantages over other file formats:
<!-- begin itemize --></p>
<ol>
<li>Complete information about the objects is saved, including attributes.</li>
<li>Data saved this way takes less space and loads much more quickly.</li>
<li>Multiple objects can be saved to and loaded from a single file.</li>
</ol>
<!-- end itemize -->
<p>The downside is that these files are only readable in R
<!-- Relies on data from a broken link -->
<!-- ```{r savingData, exec=FALSE, echo=TRUE} -->
<!-- save(iris3, file = "iris3.rda")   # the traditional file extension is rda for R native data. -->
<!-- load("iris3.rda")               # loads previously saved data -->
<!-- ``` --></p>
<p>For more on importing and exporting data, especially from other formats, see the <em>R Data Import/Export</em> manual available on <a href="http://cran.r-project.org/manuals.html">CRAN</a>.</p>
</div>
<div id="merging-datasets" class="section level3 unnumbered">
<h3>Merging datasets</h3>
<p>The <span style="color:blue">fusion1</span> data frame in the <strong><code>fastR</code></strong> package contains genotype information for a SNP (single nucleotide polymorphism) in the gene <em>TCF7L2</em>. The <span style="color:blue">pheno</span> data frame contains phenotypes (including type 2 diabetes case/control status) for an intersecting set of individuals. We can merge these together to explore the association between genotypes and phenotypes using merge().</p>
<!-- <tt>merge()</tt> <!-- This term should be indexed -->
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(fusion1, <span class="dv">3</span>)</code></pre>
<pre><code>##      id     marker markerID allele1 allele2 genotype Adose Cdose Gdose
## 1  9735 RS12255372        1       3       3       GG     0     0     2
## 2 10158 RS12255372        1       3       3       GG     0     0     2
## 3  9380 RS12255372        1       3       4       GT     0     0     1
##   Tdose
## 1     0
## 2     0
## 3     1</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(pheno, <span class="dv">3</span>)</code></pre>
<pre><code>##     id     t2d      bmi sex      age smoker chol waist weight height
## 1 1002    case 32.85994   F 70.76438 former 4.57 112.0   85.6  161.4
## 2 1009    case 27.39085   F 53.91896  never 7.32  93.5   77.4  168.1
## 3 1012 control 30.47048   M 53.86161 former 5.02 104.0   94.6  176.2
##         whr sbp dbp
## 1 0.9867841 135  77
## 2 0.9396985 158  88
## 3 0.9327354 143  89</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># merge fusion1 and pheno keeping only id&#39;s that are in both</span>
fusion1m &lt;-<span class="st"> </span><span class="kw">merge</span>(fusion1, pheno, <span class="dt">by.x =</span> <span class="st">&#39;id&#39;</span>, <span class="dt">by.y =</span> <span class="st">&#39;id&#39;</span>, <span class="dt">all.x =</span> <span class="ot">FALSE</span>, <span class="dt">all.y =</span> <span class="ot">FALSE</span>)
<span class="kw">head</span>(fusion1m, <span class="dv">3</span>)</code></pre>
<pre><code>##     id     marker markerID allele1 allele2 genotype Adose Cdose Gdose
## 1 1002 RS12255372        1       3       3       GG     0     0     2
## 2 1009 RS12255372        1       3       3       GG     0     0     2
## 3 1012 RS12255372        1       3       3       GG     0     0     2
##   Tdose     t2d      bmi sex      age smoker chol waist weight height
## 1     0    case 32.85994   F 70.76438 former 4.57 112.0   85.6  161.4
## 2     0    case 27.39085   F 53.91896  never 7.32  93.5   77.4  168.1
## 3     0 control 30.47048   M 53.86161 former 5.02 104.0   94.6  176.2
##         whr sbp dbp
## 1 0.9867841 135  77
## 2 0.9396985 158  88
## 3 0.9327354 143  89</code></pre>
<p>In this case, since the values are the same for each data frame, we could collapse <span style="color:brown">by.x</span> and <span style="color:brown">by.y</span> to <span style="color:brown">by</span> and collapse <span style="color:brown">all.x</span> and <span style="color:brown">all.y</span> to <span style="color:brown">all</span>. The first of these specifies which column(s) to use to identify matching cases. The second indicates whether cases in one data frame that do not appear in the other should be kept (<code>TRUE</code>) or dropped (filling in <code>NA</code> as needed) or dropped from the merged data frame.</p>
<p>Now we are ready to begin our analysis.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">tally</span>(<span class="op">~</span>t2d <span class="op">+</span><span class="st"> </span>genotype, fusion1m)</code></pre>
<pre><code>##          genotype
## t2d        GG  GT  TT
##   case    737 375  48
##   control 835 309  27</code></pre>
</div>
</div>
<div id="using-r-markdown" class="section level2">
<h2><span class="header-section-number">0.7</span> Using R Markdown</h2>
<p>Although you can export plots from RStudio for use in other applications, there is another way of preparing documents that has many advantages.<br />
RStudio provides several ways to create documents that include text, R code, R output, graphics, even mathematical notation all in one document. The simplest of these is R Markdown.</p>
<p>To create a new R Markdown document, go to “File”, “New”, then “R Markdown”:
<!-- begin center -->
<img src="images/NewRMarkdown.png" alt="Caption" />
<!-- end center --></p>
<p>When you do this, a file editing pane will open with a template inserted. If you click on <code>Knit HTML", \RStudio\ will turn this into an HTML file and display it for you.  Give it a try. You will be asked to name your file if you haven't already done so.  If you are using the \RStudio\ server in a browser, then your file will live on the server (</code>in the cloud’’) rather than on your computer.</p>
<p>If you look at the template file you will see that the file has two kinds of sections. Some of this file is just normal text (with some extra symbols to make things bold, add in headings, etc.) You can get a list of all of these mark up options by selecting the ``Mardown Quick Reference" in the question mark menu.</p>
<!-- begin center -->
<p><img src="images/MardownQuickReference.png" alt="Caption" />
<!-- end center --></p>
<p>The second type of section is an R code chunk. These are colored differently to make them easier to see. You can insert a new code chunk by selecting “Insert Chunk” from the “Chunks”
menu:
<!-- begin center --></p>
<p><img src="images/InsertChunk.png" alt="Caption" />
<!-- end center -->
(You can also type <code>{r}! to begin and</code>! to end the code chunk if you would rather type.) You can put any R code in these code chunks and the results (text output or graphics) as well as the R code will be displayed in your HTML file.</p>
<p>There are options to do things like (a) run R code without displaying it, (b) run R code without
displaying the output, (c) controling size of plots, etc., etc.<br />
But for starting out, this is really all you need to know.</p>
<div id="r-markdown-files-must-be-self-contained" class="section level3 unnumbered">
<h3>R Markdown files must be self-contained</h3>
<p>R Markdown files do not have access to things you have done in your console. (This is good, else your document would change based on things not in the file.) This means that you must explicitly load data, and require packages <em>in the R Markdown file</em> in order to use them. In this class, this means that most of your R Markdown files will have a chunk near the beginning that includes</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">require</span>(mosaic)        <span class="co"># load the mosaic package</span>
<span class="kw">require</span>(Lock5withR)    <span class="co"># get data sets from the book</span></code></pre>
<p>The <strong><code>mosaic</code></strong> package provides some templates that are available if you choose “from template” when creating an RMarkdown file in RStudio .
Among other things, this will insert the code required to load the <strong><code>mosaic</code></strong> package, change some default settings, and include a reminder to
load any additional packages you will be using.</p>
</div>
<div id="output-formats" class="section level3 unnumbered">
<h3>Output formats</h3>
<p>RStudio makes it easy to generate HTML, PDF, or Word documents from your RMarkdown. Just remember that if you edit any of these files after you generate them
with RMarkdown, then you will need to redo those edits if you ever go back and change the RMarkdown file, but if you change the RMarkdown file, one click will
generate the new HTML, PDF, or Word document. (There are even ways to get it to generate all three in one go;
see the <code>render()</code> function in the <strong><code>rmarkdown</code></strong> package.) So it is best to keep you editing to the RMarkdown document as much as possible.</p>
<!-- ### Printing your document {-} -->
<!--  -->
<!-- The preview window has an icon that looks like an arrow pointing at a window. -->
<!-- If you click on that the document will open in a regular browser window.  From -->
<!-- there you can use your browser's print features to print the document. -->
</div>
</div>
<div id="statistics-answering-questions-with-data" class="section level2">
<h2><span class="header-section-number">0.8</span> Statistics: Answering Questions With Data</h2>
<p>This is a course primarily about statistics, but what exactly is <em>statistics</em>? In other words, what is this course about? <a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a></p>
<p>Here are some definitions of statistics from other people:</p>
<!-- begin itemize -->
<!--  #. -->
<!--   a body of methods for making wise decisions in the face of uncertainty   -->
<!--    (W.A. Wallis) -->
<ol>
<li><p>a collection of procedures and principles for gaining information in order to make decisions when faced with uncertainty (J. Utts <span class="citation">@Utts:2005:SeeingThroughStats</span>),</p></li>
<li><p>a way of taming uncertainty, of turning raw data into arguments that can resolve profound questions (T. Amabile <span class="citation">@AgainstAllOdds:video</span>),</p></li>
</ol>
<!--   #.  the science of gaining information from numerical data (D.S. Moore) -->
<ol>
<li><p>the science of drawing conclusions from data with the aid of the mathematics of probability (S. Garfunkel <span class="citation">@ForAllPracticalPurposes:video</span>),</p></li>
<li><p>the explanation of variation in the context of what remains unexplained (D. Kaplan <span class="citation">@kaplan-modeling</span>),</p></li>
<li><p>the mathematics of the collection, organization, and interpretation of numerical data, especially the analysis of a population’s characteristics by inference from sampling (American Heritage Dictionary <span class="citation">@AmHerDictionary:1982</span>).</p></li>
</ol>
<!-- end itemize -->
<p>Here’s a simpler definition:</p>
<hr />
<pre><code>Statistics is the science of answering questions with data.</code></pre>
<hr />
<p>This definition gets at two important elements of the longer definitions above:</p>
<!-- There's more to it  -->
<!-- While not exactly the same, these definitions highlight four key elements -->
<!-- of statistics. -->
<!-- ### {Four Key Components} -->
<div id="data-the-raw-material" class="section level3 unnumbered">
<h3>Data – the raw material</h3>
<p>data <!-- This term should be indexed -->
Data are the raw material for doing statistics. We will learn more about different types of data, how to collect data, and how to summarize data as we go along.</p>
</div>
<div id="information-the-goal" class="section level3 unnumbered">
<h3>Information – the goal</h3>
<p>The goal of doing statistics is to gain some information or to make a decision – that is, to answer some question.</p>
<p>Statistics is useful because it helps us answer questions like the following:
<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>
<!-- begin itemize --></p>
<ol>
<li>Which of two treatment plans leads to the best clinical outcomes?</li>
<li>Are men or women more successful at quitting smoking? And does it matter which smoking cessation program they use?
<!--\item  Kellog's|exampleidx <!-- This term should be indexed --></li>
<li>Is my cereal company complying with regulations about the amount of cereal in its cereal boxes?
<!-- end itemize -->
In this sense, statistics is a science – a method for obtaining new knowledge.<!--  -->
<!-- ^[In German, the word for science is _Wissenschaft_.  Literally -->
<!-- translated it means "knowledge creation".] -->
Our simple definition is light on describing the context in which this takes place.
So let’s add two more important aspects of statistics.</li>
</ol>
</div>
<div id="uncertainty-the-context" class="section level3 unnumbered">
<h3>Uncertainty – the context</h3>
<p>randomness <!-- This term should be indexed -->
The tricky thing about statistics is the uncertainty involved. If we measure one box of cereal, how do we know that all the others are similarly filled? If every box of cereal were identical and every measurement perfectly exact, then one measurement would suffice. But the boxes may differ from one another, and even if we measure the same box multiple times, we may get different answers to the question
<em>How much cereal is in the box?</em></p>
<p>So we need to answer questions like
<em>How many boxes should we measure?</em>
and
<em>How many times should we measure each box?</em>
Even so, there is no answer to these questions
that will give us absolute certainty.
So we need to answer questions like
<em>How sure do we need to be?</em></p>
</div>
<div id="probability-the-tool" class="section level3 unnumbered">
<h3>Probability – the tool</h3>
<p>In order to answer a question like <em>How sure do we need to be?</em>, we need some way of measuring our level of certainty. This is where mathematics enters into statistics. Probability is the area of mathematics that deals with reasoning about uncertainty.</p>
<!-- So before we can answer the statistical questions we just listed,  -->
<!-- we must first develop some skill in probability.   -->
<!-- Once we have developed the necessary tools to deal with uncertainty, -->
<!-- we will be able to give good answers to our statistical questions. -->
<!-- Let's take a bird's eye view of the processes -->
<!-- involved in a statistical study.   -->
<!-- We'll come back and fill in the details later. -->
<!-- ###  -->
</div>
</div>
<div id="a-first-example-the-lady-tasting-tea" class="section level2">
<h2><span class="header-section-number">0.9</span> A First Example: The Lady Tasting Tea</h2>
<!--lady tasting tea|exampleidx  This term should be indexed -->
<!-- \myindex{tea|seeonly{lady tasting tea}} -->
<p>There is a famous story about a lady who claimed that tea with milk tasted different depending on whether the milk was added to the tea or the tea added to the milk. The story is famous because of the setting in which she made this claim. She was attending a party in Cambridge, England, in the <span class="math inline">\(1920\)</span>s. Also in attendance were a number of university dons and their wives. The scientists in attendance scoffed at the woman and her claim. What, after all, could be the difference?</p>
<p>Fisher, R. A. <!-- This term should be indexed --><!--  -->
All the scientists but one, that is. Rather than simply dismiss the woman’s claim, he proposed that they decide how one should <em>test</em> the claim. The tenor of the conversation changed at this suggestion, and the scientists began to discuss how the claim should be tested. Within a few minutes cups of tea with milk had been prepared and presented to the woman for tasting.</p>
<p>Let’s take this simple example as a prototype for a statistical study.
What steps are involved?<br />
<!-- begin enumerate --></p>
<ol>
<li><p>Determine the question of interest.</p>
<p>Just what is it we want to know? It may take some effort to make a vague idea precise. The precise questions may not exactly correspond to our vague questions, and the very exercise of stating the question precisely may modify our question. Sometimes we cannot come up with any way to answer the question we really want to answer, so we have to live with some other question that is not exactly what we wanted but is something we can study and will (we hope) give us some information about our original question.</p>
<p>In our example this question seems fairly easy to state: Can the lady tell the difference between the two tea preparations? But we need to refine this question. For example, are we asking if she <em>always</em> correctly identifies cups of tea or merely if she does better than we could do ourselves (by guessing)?</p></li>
<li><p>Determine the <strong>population</strong>. <!-- population  This term should be indexed --><!--  --></p>
<p>Just who or what do we want to know about? Are we only interested in this one woman or women in general or only women who claim to be able to distinguish tea preparations?</p></li>
<li><p>Select <strong>measurements</strong>.</p>
<p>We are going to need some data. We get our data by making some measurements. These might be physical measurements with some device (like a ruler or a scale). But there are other sorts of measurements too, like the answer to a question on a form. Sometimes it is tricky to figure out just what to measure. (How do we measure happiness or intelligence, for example?) Just how we do our measuring will have important consequences for the subsequent statistical analysis. The recorded values of these measurements are called <strong>variables</strong> (because the values vary from one individual to another).</p>
<p>In our example, a measurement may consist of recording for a given cup of tea whether the woman’s claim is correct or incorrect.
<!-- it is milk-into-tea or tea-into-milk. --></p></li>
<li><p>Determine the <strong>sample</strong>. <!-- sample This term should be indexed --></p>
<p>Usually we cannot measure every individual in our population; we have to select some to measure. But how many and which ones? These are important questions that must be answered. Generally speaking, bigger is better, but it is also more expensive. Moreover, no size is large enough if the sample is selected inappropriately.</p>
<p>Suppose we gave the lady one cup of tea. If she correctly identifies
the mixing procedure, will we be convinced of her claim? She might just
be guessing; so we should probably have her taste more than one
cup. Will we be convinced if she correctly identifies <span class="math inline">\(5\)</span> cups? <span class="math inline">\(10\)</span> cups?
<span class="math inline">\(50\)</span> cups?</p>
<p>What if she makes a mistake? If we present her with <span class="math inline">\(10\)</span> cups and she
correctly identifies <span class="math inline">\(9\)</span> of the <span class="math inline">\(10\)</span>, what will we conclude? <!-- authNote --- added A success rate of -- 2010-10-23 -->
A success rate of <span class="math inline">\(90\)</span>% is, it seems,
much better than just guessing, and anyone can make a mistake now and then.
But what if she correctly identifies <span class="math inline">\(8\)</span> out of <span class="math inline">\(10\)</span>? <span class="math inline">\(80\)</span> out of <span class="math inline">\(100\)</span>?</p>
<p>And how should we prepare the cups? Should we make <span class="math inline">\(5\)</span> each way? <!-- authNote --- Left it as "and how" -- 2010-10-23 -->
Does it matter if we tell the woman that there are <span class="math inline">\(5\)</span> prepared
each way?
Should we flip a coin to decide even if that means we might end
up with <span class="math inline">\(3\)</span> prepared one way and <span class="math inline">\(7\)</span> the other way?<br />
Do any of these differences matter?</p></li>
<li><p>Make and record the measurements.</p>
<p>Once we have the design figured out, we have to do the legwork of
data collection. This can be a time-consuming and tedious process.
In the case of the lady tasting tea, the scientists decided to
present her with ten cups of tea which were quickly prepared.
A study of public opinion may require many thousands of phone calls or
personal interviews.
In a laboratory setting, each measurement might be the result
of a carefully performed laboratory experiment.</p></li>
<li><p>Organize the data.</p>
<p>Once the data have been collected, it is often necessary or useful
to organize them. Data are typically stored in spreadsheets or
in other formats that are convenient for processing with
statistical packages. Very large data sets are often stored in
databases.</p>
<p>Part of the organization of the data may involve producing graphical and
numerical summaries of the data. These summaries may give us initial
insights into our questions or help us detect errors that may have occurred
to this point.</p></li>
<li><p>Draw conclusions from data.</p>
<p>Once the data have been collected, organized, and analyzed, we need
to reach a conclusion.
Do we believe the woman’s claim? Or do we think she is merely guessing?<br />
How sure are we that this
conclusion is correct?
<!--    In Parts~\@ref(part:inf1)--\@ref(part:inf2)  --></p>
<p>Eventually we will
learn a number of important and frequently used methods for
drawing inferences from data. More importantly, we will learn
the basic framework used for such procedures so that it should
become easier and easier to learn new procedures as we become
familiar with the framework.</p>
<p><!-- How strongly do we believe it?  --></p></li>
<li><p>Produce a report.</p>
<p>Typically the results of a statistical study are reported in
some manner. This may be as a refereed article in an academic
journal, as an internal report to a company, or as a solution
to a problem on a homework assignment. These reports may themselves
be further distilled into press releases, newspaper articles,
advertisements, and the like. The mark of a good report
is that it provides the essential information about each
of the steps of the study.</p>
<p>As we go along, we will learn some of the standard terminology and
procedures that you are likely to see in basic statistical reports and
will gain a framework for learning more.<br />
<!-- end enumerate --></p></li>
</ol>
<p>At this point, you may be wondering who the innovative scientist was and what the results of the experiment were. Fisher, R. A. <!-- This term should be indexed -->
The scientist was R. A. Fisher, who first described this situation as a pedagogical example in his 1925 book on statistical methodology <span class="citation">@Fisher:1925:Methods</span>. Fisher developed statistical methods that are among the most important and widely used methods to this day, and most of his applications were biological.
<!-- citation not used --- Fisher:1970:Methods --></p>
</div>
<div id="coins-and-cups" class="section level2">
<h2><span class="header-section-number">0.10</span> Coins and Cups</h2>
<p>You might also be curious about how the experiment came out. How many cups of tea were prepared? How many did the woman correctly identify? What was the conclusion?</p>
<p>Fisher never says. In his book he is interested in the method, not the particular results. But let’s suppose we decide to test the lady with ten cups of tea. We’ll flip a coin to decide which way to prepare the cups. If we flip a head, we will pour the milk in first; if tails, we put the tea in first. Then we present the ten cups to the lady and have her state which ones she thinks were prepared each way.</p>
<p>It is easy to give her a score (9 out of 10, or 7 out of 10, or whatever it happens to be). It is trickier to figure out what to do with her score. Even if she is just guessing and has no idea, she could get lucky and get quite a few correct – maybe even all 10. But how likely is that?</p>
<p>Let’s try an experiment. I’ll flip 10 coins. You guess which are heads and which are tails, and we’ll see how you do.</p>
<p><span class="math inline">\(\vdots\)</span></p>
<p>Comparing with your classmates, we will undoubtedly see that some of you did better and others worse.</p>
<p>Now let’s suppose the lady gets 9 out of 10 correct. That’s not perfect, but it is better than we would expect for someone who was just guessing. On the other hand, it is not impossible to get 9 out of 10 just by guessing. So here is Fisher’s great idea: Let’s figure out how hard it is to get 9 out of 10 by guessing. If it’s not so hard to do, then perhaps that’s just what happened, so we won’t be too impressed with the lady’s tea tasting ability. On the other hand, if it is really unusual to get 9 out of 10 correct by guessing, then we will have some evidence that she must be able to tell something.</p>
<p>But how do we figure out how unusual it is to get 9 out of 10 just by guessing? We’ll learn another method later, but for now, let’s just flip a bunch of coins and keep track. If the lady is just guessing, she might as well be flipping a coin.</p>
<p>So here’s the plan. We’ll flip 10 coins. We’ll call the heads correct guesses and the tails incorrect guesses. Then we’ll flip 10 more coins, and 10 more, and 10 more, and … That would get pretty tedious. Fortunately, computers are good at tedious things, so we’ll let the computer do the flipping for us using a tool in the <strong><code>mosaic</code></strong> package. This package is already installed in our RStudio server. If you are running your own installation of R you can install <strong><code>mosaic</code></strong> using the following command:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">&quot;mosaic&quot;</span>)</code></pre>
<p>The <code>rflip()</code> function can flip one coin</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">require</span>(mosaic)
<span class="kw">rflip</span>()</code></pre>
<pre><code>## 
## Flipping 1 coin [ Prob(Heads) = 0.5 ] ...
## 
## H
## 
## Number of Heads: 1 [Proportion Heads: 1]</code></pre>
<p>or a number of coins</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rflip</span>(<span class="dv">10</span>)</code></pre>
<pre><code>## 
## Flipping 10 coins [ Prob(Heads) = 0.5 ] ...
## 
## T T H H T H H H T T
## 
## Number of Heads: 5 [Proportion Heads: 0.5]</code></pre>
<p>and show us the results.</p>
<p>Typing <code>rflip(10)</code> a bunch of times is almost as tedious as flipping all those coins. But it is not too hard to tell R to <code>do()</code> this a bunch of times.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">do</span>(<span class="dv">2</span>) <span class="op">*</span><span class="st"> </span><span class="kw">rflip</span>(<span class="dv">10</span>)</code></pre>
<pre><code>##    n heads tails prop
## 1 10     5     5  0.5
## 2 10     6     4  0.6</code></pre>
<!-- And if we switch to a "quiet" version of rflip()!, -->
<!-- we will get much terser output -- -->
<!-- just the counts of the number of heads (i.e., correct guesses). -->
<!-- ```{r flip3, cache=TRUE} -->
<!-- do(100) * rflip(10)           # "quiet version" of rflip() -->
<!-- ``` -->
<p>Let’s get R to <code>do()</code> it for us 10,000 times and make a table of the results.</p>
<pre class="sourceCode r"><code class="sourceCode r">Flips &lt;-<span class="st"> </span><span class="kw">do</span>(<span class="dv">10000</span>) <span class="op">*</span><span class="st"> </span><span class="kw">rflip</span>(<span class="dv">10</span>)
<span class="kw">tally</span>(<span class="op">~</span>heads, <span class="dt">data =</span> Flips)</code></pre>
<pre><code>## heads
##    0    1    2    3    4    5    6    7    8    9   10 
##    5  102  467 1203 2048 2470 2035 1140  415  108    7</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">tally</span>(<span class="op">~</span>heads, <span class="dt">data =</span> Flips, <span class="dt">format =</span> <span class="st">&#39;percent&#39;</span>)</code></pre>
<pre><code>## heads
##     0     1     2     3     4     5     6     7     8     9    10 
##  0.05  1.02  4.67 12.03 20.48 24.70 20.35 11.40  4.15  1.08  0.07</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">tally</span>(<span class="op">~</span>heads, <span class="dt">data =</span> Flips, <span class="dt">format =</span> <span class="st">&#39;proportion&#39;</span>)</code></pre>
<pre><code>## heads
##      0      1      2      3      4      5      6      7      8      9 
## 0.0005 0.0102 0.0467 0.1203 0.2048 0.2470 0.2035 0.1140 0.0415 0.0108 
##     10 
## 0.0007</code></pre>
<p>You might be surprised to see that the number of correct guesses is exactly 5 (half of the 10 tries) only
25%
of the time. But most of the results are quite close to 5 correct.
67% of the results are
4, 5, or 6, for example.
And 1% of the results are between 3 and 7 (inclusive). But getting 8 correct is a bit unusual, and getting 9 or 10 correct is even
more unusual.</p>
<p>So what do we conclude? It is possible that the lady could get 9 or 10 correct just by guessing, but it is not very likely (it only happened in about
1.2% of our simulations).
So <em>one of two things must be true</em>:
<!-- begin itemize --></p>
<ol>
<li>The lady got unusually “lucky”, or</li>
<li>The lady is not just guessing.
<!-- end itemize --></li>
</ol>
<p>Although Fisher did not say how the experiment came out, others have reported that the lady correctly identified all 10 cups!
<span class="citation">@salsburg</span></p>
<p>This same reasoning can be applied to answer a wide range of questions that have a similar form. For example, the question of whether dogs can smell cancer could be answered essentially the same way (although it would be a bit more involved than preparing tea and presenting cups to the Lady).</p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>As we will see, the words <em>statistic</em> and <em>statistics</em> get used in more than one way. More on that later.<a href="introduction-to-r-and-statistics.html#fnref1" class="footnote-back">↩</a></p></li>
<li id="fn2"><p>The opening pages of each chapter of our book include many more questions.<a href="introduction-to-r-and-statistics.html#fnref2" class="footnote-back">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="collecting-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["Lock5WithR.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
